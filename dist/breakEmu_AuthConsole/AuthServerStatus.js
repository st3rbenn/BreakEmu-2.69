"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var blessed=_interopRequireWildcard(require("blessed"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n["default"]=e,t&&t.set(e,n),n;}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;},_typeof(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}var AuthServerStatus=/*#__PURE__*/function(){function AuthServerStatus(){_classCallCheck(this,AuthServerStatus);this.screen=blessed.screen({smartCSR:true});this.header=blessed.box({top:0,left:0,width:"100%",height:"10%",content:"Nombre de joueurs connectÃ©s: 0",style:{fg:"white",bg:"gray",border:{fg:"#f0f0f0"}}});this.logBox=blessed.box({top:"10%",left:0,width:"100%",height:"90%",content:"",scrollable:true,alwaysScroll:true,scrollbar:{ch:" "},style:{fg:"white",bg:"black",border:{fg:"#f0f0f0"}}});this.screen.append(this.header);this.screen.append(this.logBox);// Capturez et affichez les logs ici
// Exemple: this.log('Nouveau log: ...');
}_createClass(AuthServerStatus,[{key:"Screen",get:function get(){return AuthServerStatus.Instance.screen;}},{key:"LogBox",get:function get(){return AuthServerStatus.Instance.logBox;}},{key:"initializeHeader",value:function initializeHeader(){var _this=this;setInterval(function(){var playerCount=_this.getPlayerCount();_this.updateHeader(playerCount);},5000);this.screen.render();}},{key:"updateHeader",value:function updateHeader(playerCount){this.header.setContent("Nombre de joueurs connect\xE9s: ".concat(playerCount));this.screen.render();}},{key:"getPlayerCount",value:function getPlayerCount(){return Math.floor(Math.random()*100);}},{key:"log",value:function log(message){this.logBox.insertBottom(message);this.logBox.scroll(1);this.screen.render();}}],[{key:"Instance",get:function get(){if(!AuthServerStatus._instance){AuthServerStatus._instance=new AuthServerStatus();}return AuthServerStatus._instance;}}]);return AuthServerStatus;}();var _default=exports["default"]=AuthServerStatus;