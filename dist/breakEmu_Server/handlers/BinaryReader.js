"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _buffer=require("buffer");function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;},_typeof(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key);}function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return(hint==="string"?String:Number)(input);}var BinaryReader=/*#__PURE__*/function(){function BinaryReader(buffer){_classCallCheck(this,BinaryReader);this._offset=0;this._buffer=_buffer.Buffer.from(buffer);}_createClass(BinaryReader,[{key:"offset",get:function get(){return this._offset;}},{key:"readUInt8",value:function readUInt8(){var value=this._buffer.readUInt8(this._offset);this._offset+=1;return value;}},{key:"readInt8",value:function readInt8(){var value=this._buffer.readInt8(this._offset);this._offset+=1;return value;}},{key:"readUInt16",value:function readUInt16(){var value=this._buffer.readUInt16LE(this._offset);this._offset+=2;return value;}},{key:"readInt16",value:function readInt16(){var value=this._buffer.readInt16LE(this._offset);this._offset+=2;return value;}},{key:"readUInt32",value:function readUInt32(){var value=this._buffer.readUInt32LE(this._offset);this._offset+=4;return value;}},{key:"readInt32",value:function readInt32(){var value=this._buffer.readInt32LE(this._offset);this._offset+=4;return value;}},{key:"readFloat",value:function readFloat(){var value=this._buffer.readFloatLE(this._offset);this._offset+=4;return value;}},{key:"readDouble",value:function readDouble(){var value=this._buffer.readDoubleLE(this._offset);this._offset+=8;return value;}},{key:"readBytes",value:function readBytes(length){var value=this._buffer.slice(this._offset,this._offset+length);this._offset+=length;return value;}},{key:"skipBytes",value:function skipBytes(length){this._offset+=length;}},{key:"readStringUtf8",value:function readStringUtf8(length){if(length==null)length=this._buffer.length-this._offset;length=Math.max(0,length);var value=this._buffer.toString('utf8',this._offset,this._offset+length);this._offset+=length;return value;}},{key:"readStringUnicode",value:function readStringUnicode(length){if(length==null)length=this._buffer.length-this._offset;length=Math.max(0,length);var safeLength=length-length%2;var value=this._buffer.toString('ucs2',this._offset,this._offset+safeLength);this._offset+=length;return value;}},{key:"readStringZeroUtf8",value:function readStringZeroUtf8(){var length=0;var terminatorLength=0;for(var i=this._offset;i<this._buffer.length;i++){if(this._buffer.readUInt8(i)===0){terminatorLength=1;break;}length++;}var value=this.readStringUtf8(length);this._offset+=terminatorLength;return value;}},{key:"readStringZeroUnicode",value:function readStringZeroUnicode(){var length=0;var terminatorLength=(this._buffer.length-this._offset&1)!==0?1:0;for(var i=this._offset;i+1<this._buffer.length;i+=2){if(this._buffer.readUInt16LE(i)===0){terminatorLength=2;break;}length+=2;}var value=this.readStringUnicode(length);this._offset+=terminatorLength;return value;}},{key:"bytesAvailable",value:function bytesAvailable(){return this._buffer.length-this._offset;}},{key:"readUShort",value:function readUShort(){return this.readUInt16();}}]);return BinaryReader;}();var _default=exports["default"]=BinaryReader;